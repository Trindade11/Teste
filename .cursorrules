# Project Rules

## Spec Kit Integration

This project uses Spec Kit for Spec-Driven Development. The methodology separates:
- **Constitution**: Project principles, rules, and constraints that apply to ALL features
- **Specification**: What a specific feature does and why (business view)
- **Plan**: How a feature will be implemented technically

### Available Commands

| Command | Purpose |
|---------|---------|
| `/speckit.triage` | Analyzes mixed/broad user input and separates Constitution content from Specification content |
| `/speckit.constitution` | Creates/updates project principles and rules |
| `/speckit.context` | Documents project context (env vars, database schema, tools, agents) |
| `/speckit.specify` | Creates feature specifications (WHAT and WHY, no technical details) |
| `/speckit.plan` | Creates technical implementation plans (HOW) |
| `/speckit.tasks` | Breaks plans into actionable tasks |
| `/speckit.implement` | Executes implementation following the plan |
| `/speckit.clarify` | Asks structured questions to de-risk ambiguous areas |
| `/speckit.analyze` | Cross-artifact consistency report |
| `/speckit.checklist` | Generates quality checklists |

## Visual Modeling Requirements

This project requires Mermaid diagrams in all artifacts:

### In Specifications (spec.md):
- Process Flow (flowchart TD) - user journey in business language
- Agent Collaboration (if multi-agent) - data flow between agents
- Insights section with gaps, opportunities, and risks

### In Plans (plan.md):
- System Interaction Diagram (sequenceDiagram) - technical component interactions
- Component Architecture (flowchart TB) - system structure
- Agent Contracts table (if multi-agent)

### Gap Visualization
- Use `[?]` suffix for unclear steps
- Apply red/orange styling for incomplete areas
- Include gap summary box in complex diagrams
- See `.specify/docs/flows/gap-notation.md` for standards

## Project Context

Before generating plans or implementations, read project context from `project-context/`:
- `env-vars.md` - Available environment variables
- `database-schema.md` - Database structure and field meanings
- `tools-registry.md` - Available MCPs and integrations
- `agent-framework.md` - Agent architecture (if applicable)
- `folder-structure.md` - Project organization

If `project-context/` doesn't exist, suggest running `/speckit.context` first.

## Communication Style

- User may not be a developer - explain technical concepts when needed
- Provide complete commands ready to execute
- Explain the purpose before taking actions
- Use simple, clear language
- Prefer established, well-documented libraries and patterns

## Stack Consistency

- Respect technology choices defined in plan.md
- Don't suggest alternative stacks without explicit request
- Honor existing .env and MCP configurations

## Iterative Completeness (Golden Rule)

At the end of EVERY phase, deliverable, or significant output, always ask:

```
ðŸ”„ Need another round?
- What's missing?
- What needs clarification?
- What should be added?
```

- This is MANDATORY before closing any phase
- Never assume the output is complete without user validation
- Iterate until user explicitly confirms satisfaction

## Source of Truth

- **Constitution**: `.specify/memory/constitution.md` - read FIRST for project rules
- **Project Context**: `project-context/` - project-specific technical documentation
- **Documentation**: `.specify/docs/` - visual flows and methodology guides
- **Templates**: `.specify/templates/` - artifact templates
