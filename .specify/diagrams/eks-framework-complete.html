<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Framework EKS - VisÃ£o Completa</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                fontSize: '16px'
            }
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            line-height: 1.6;
        }
        .hero {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            padding: 60px 40px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            margin-bottom: 40px;
        }
        .hero h1 {
            font-size: 3rem;
            font-weight: 800;
            color: white;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            border: none;
            padding: 0;
        }
        .hero p {
            font-size: 1.3rem;
            color: #e0e7ff;
            font-weight: 300;
            max-width: 900px;
            margin: 0 auto;
        }
        .container {
            padding: 0 40px 60px;
        }
        h2 {
            color: #60a5fa;
            border-left: 6px solid #1e3a8a;
            padding-left: 20px;
            padding-bottom: 10px;
            margin: 60px 0 30px;
            font-size: 2.2rem;
            font-weight: 700;
        }
        h3 {
            color: #93c5fd;
            margin: 30px 0 15px;
            font-size: 1.5rem;
        }
        .mermaid {
            background: white;
            padding: 40px;
            border-radius: 16px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2), 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid rgba(96,165,250,0.1);
        }
        hr {
            border: none;
            height: 2px;
            background: linear-gradient(90deg, transparent, #1e3a8a, transparent);
            margin: 60px 0;
        }
        .section {
            margin-bottom: 80px;
            background: rgba(30,41,59,0.5);
            padding: 40px;
            border-radius: 16px;
            border: 1px solid rgba(96,165,250,0.1);
        }
        .footer {
            text-align: center;
            padding: 40px;
            margin-top: 60px;
            border-top: 2px solid #1e3a8a;
            color: #94a3b8;
        }
        .footer a {
            color: #60a5fa;
            text-decoration: none;
            font-weight: 600;
        }
        .footer a:hover {
            color: #93c5fd;
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>ğŸ¯ Framework EKS - VisÃ£o Completa</h1>
        <p>Modelos de IA sÃ£o commodities. O conhecimento da sua empresa Ã© seu maior ativo.</p>
    </div>
    <div class="container">

    <div class="section">
        <h2>1. Arquitetura Macro (4 Camadas)</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#1e3a8a', 'primaryTextColor': '#fff', 'primaryBorderColor': '#60a5fa', 'lineColor': '#3b82f6', 'secondaryColor': '#10b981', 'tertiaryColor': '#f59e0b'}}}%%
graph TB
    subgraph UI["ğŸ¨ UI LAYER"]
        Chat["ğŸ’¬ Chat Interface<br/>(Real-time)"]
        Canvas["ğŸ–¼ï¸ Canvas Workspace<br/>(Persistent + Interactive)"]
        Visualizer["ğŸ“Š Graph Visualizer<br/>(NavegaÃ§Ã£o Macroâ†’Micro)"]
    end
    
    subgraph Orchestration["âš™ï¸ ORCHESTRATION LAYER"]
        LG["ğŸ”„ LangGraph Runtime<br/>(State Machine)"]
        IM["â¸ï¸ Interrupt Manager<br/>(Human-in-Loop)"]
        CE["ğŸ§  Context Engineer<br/>(Select + Compress)"]
    end
    
    subgraph Memory["ğŸ’¾ MEMORY & SEMANTIC LAYER"]
        STM["âš¡ Short-Term<br/>(Checkpoints)"]
        LTM["ğŸ—„ï¸ Long-Term<br/>(MongoDB Store)"]
        SG["ğŸ•¸ï¸ Semantic Graph<br/>(Neo4j)"]
        VS["ğŸ” Vector Store<br/>(Atlas Search)"]
    end
    
    subgraph Agents["ğŸ¤– AGENT ECOSYSTEM"]
        direction LR
        PIA["ğŸ‘· PIA<br/>(Process Intelligence)"]
        EKB["ğŸ“š EKB Agents<br/>(Foundational + Business)"]
        ACP["â“ Clarificador<br/>(Proativo)"]
        IEP["ğŸŒ IEP<br/>(Intel Externa)"]
    end
    
    Chat <--> Canvas
    Canvas <--> Visualizer
    
    Chat --> LG
    Canvas --> IM
    Visualizer --> CE
    
    LG --> STM
    LG --> LTM
    IM --> SG
    CE --> VS
    
    STM -.Context.-> Agents
    LTM -.Memory.-> Agents
    SG -.Semantic.-> Agents
    VS -.Retrieval.-> Agents
    
    Agents --> LG
    
    style UI fill:#1e40af,color:#fff
    style Orchestration fill:#047857,color:#fff
    style Memory fill:#b45309,color:#fff
    style Agents fill:#7c2d12,color:#fff
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>2. Semantic Graph - Ontologia Base</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#4f46e5', 'secondaryColor': '#06b6d4', 'tertiaryColor': '#f59e0b', 'lineColor': '#6366f1'}}}%%
graph LR
    subgraph Identity["ğŸ¢ IDENTITY LAYER"]
        Company["CompanySnapshot<br/>ğŸ“‹ Narrativa<br/>ğŸ“Š MÃ©tricas<br/>ğŸ“… Timeline"]
        Person["ProfileSnapshot<br/>ğŸ‘¤ Pessoa<br/>ğŸ’¼ Papel<br/>ğŸ¯ Expertise"]
    end
    
    subgraph Perspectives["ğŸ”­ PERSPECTIVES"]
        PS1["PerspectiveSummary<br/>ğŸ’° Tesouraria"]
        PS2["PerspectiveSummary<br/>ğŸ‘¥ RH"]
        PS3["PerspectiveSummary<br/>âš™ï¸ OperaÃ§Ãµes"]
        PSN["PerspectiveSummary<br/>ğŸ”¹ Outras..."]
    end
    
    subgraph Knowledge["ğŸ“š KNOWLEDGE CORE"]
        Concept["Concept<br/>ğŸ’¡ DefiniÃ§Ã£o<br/>ğŸ”— RelaÃ§Ãµes"]
        Decision["Decision<br/>âœ… Owner<br/>ğŸ“… Prazo"]
        Claim["Claim<br/>ğŸ“Œ Status<br/>ğŸ”’ ConfianÃ§a"]
    end
    
    subgraph Temporal["â±ï¸ TEMPORAL LAYER"]
        Event["Event<br/>ğŸ”„ MudanÃ§a<br/>ğŸ“ Timestamp"]
        Version["Version<br/>ğŸ“¦ Estado<br/>ğŸ“… VigÃªncia"]
        Evidence["Evidence<br/>ğŸ“„ Fonte<br/>ğŸ” ProveniÃªncia"]
    end
    
    Company -->|has_snapshot| PS1
    Company -->|has_snapshot| PS2
    Company -->|has_snapshot| PS3
    Person -->|works_in| Company
    Person -->|contributes_to| PS1
    
    PS1 -->|highlights| Concept
    PS2 -->|highlights| Decision
    PS3 -->|highlights| Claim
    
    Concept -->|has_version| Version
    Decision -->|triggers| Event
    Claim -->|supported_by| Evidence
    
    Event -->|causes| Version
    Version -->|effective_during| Evidence
    
    style Identity fill:#4f46e5,color:#fff
    style Perspectives fill:#06b6d4,color:#fff
    style Knowledge fill:#f59e0b,color:#fff
    style Temporal fill:#10b981,color:#fff
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>3. NavegaÃ§Ã£o: Todo â†’ Micro</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'fontSize': '14px'}}}%%
graph TD
    Todo["ğŸŒ TODO<br/>CompanySnapshot<br/>HistÃ³ria + Fase + Board"]
    
    subgraph Macro["ğŸ”­ MACRO (Perspectivas)"]
        P1["ğŸ’° Tesouraria<br/>Top 10 DecisÃµes<br/>Top 10 Gaps<br/>KPIs"]
        P2["ğŸ‘¥ RH<br/>Top 10 DecisÃµes<br/>Top 10 Gaps<br/>KPIs"]
        P3["âš™ï¸ OperaÃ§Ãµes<br/>Top 10 DecisÃµes<br/>Top 10 Gaps<br/>KPIs"]
    end
    
    subgraph Meso["ğŸ—ºï¸ MESO (Trilhas)"]
        T1["Trail: Liquidez<br/>â†’ RecebÃ­veis<br/>â†’ DSO<br/>â†’ CrÃ©dito"]
        T2["Trail: Capacidade<br/>â†’ Turnover<br/>â†’ Gaps<br/>â†’ RetenÃ§Ã£o"]
    end
    
    subgraph Micro["ğŸ”¬ MICRO (Prova)"]
        E1["ğŸ“… Event: DecisÃ£o tomada<br/>ğŸ“„ Evidence: Ata reuniÃ£o<br/>ğŸ‘¤ Owner: JoÃ£o Silva<br/>â±ï¸ Valid: 2025-11-20 atÃ©..."]
        E2["ğŸ“Š Version: PolÃ­tica v3<br/>âœ… Status: Validado<br/>ğŸ”— Source: Doc#123"]
    end
    
    Todo --> P1
    Todo --> P2
    Todo --> P3
    
    P1 --> T1
    P2 --> T2
    
    T1 --> E1
    T2 --> E2
    
    style Todo fill:#1e3a8a,color:#fff
    style Macro fill:#047857,color:#fff
    style Meso fill:#b45309,color:#fff
    style Micro fill:#7c2d12,color:#fff
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>4. Ecossistema de Agentes</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#7c3aed', 'secondaryColor': '#ec4899'}}}%%
graph TB
    subgraph Foundational["ğŸ—ï¸ AGENTES FOUNDACIONAIS"]
        Orchestrator["ğŸ¯ Orchestrator<br/>Coordena fluxo"]
        Curator["ğŸ“š Curator<br/>MantÃ©m coerÃªncia"]
        Guardian["ğŸ›¡ï¸ Guardian<br/>GovernanÃ§a"]
        Miner["â›ï¸ Action Miner<br/>Extrai decisÃµes"]
    end
    
    subgraph Business["ğŸ’¼ AGENTES DE NEGÃ“CIO"]
        Strategy["ğŸ¯ Strategy<br/>OKRs + Roadmap"]
        Revenue["ğŸ’° Revenue<br/>Deals + Pipeline"]
        VoC["ğŸ—£ï¸ Voice of Customer<br/>Feedback + NPS"]
        Compliance["âš–ï¸ Compliance<br/>RegulatÃ³rio + Risco"]
    end
    
    subgraph Specialized["ğŸ“ AGENTES ESPECIALIZADOS"]
        PIA["ğŸ‘· PIA<br/>Process Intelligence<br/>5 sub-agents"]
        ACP["â“ ACP<br/>Clarificador Proativo<br/>Resolve dÃºvidas"]
        IEP["ğŸŒ IEP<br/>Intel Externa<br/>5 gatilhos proativos"]
    end
    
    subgraph Core["âš¡ CORE SYSTEM"]
        SG[("ğŸ•¸ï¸ Semantic Graph<br/>Neo4j")]
        LTM[("ğŸ—„ï¸ Long-Term Memory<br/>MongoDB")]
    end
    
    Orchestrator --> Strategy
    Orchestrator --> Revenue
    Curator --> PIA
    Guardian --> Compliance
    Miner --> ACP
    
    Strategy --> SG
    Revenue --> SG
    VoC --> SG
    Compliance --> SG
    PIA --> SG
    ACP --> SG
    IEP --> SG
    
    Orchestrator --> LTM
    Curator --> LTM
    
    style Foundational fill:#7c3aed,color:#fff
    style Business fill:#ec4899,color:#fff
    style Specialized fill:#f59e0b,color:#fff
    style Core fill:#10b981,color:#fff
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>5. Data Flow: IngestÃ£o â†’ Briefing</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#0891b2'}}}%%
sequenceDiagram
    participant User as ğŸ‘¤ UsuÃ¡rio
    participant Chat as ğŸ’¬ Chat/Canvas
    participant LG as ğŸ”„ LangGraph
    participant Agents as ğŸ¤– Agents
    participant SG as ğŸ•¸ï¸ Semantic Graph
    participant LTM as ğŸ—„ï¸ Long-Term Memory
    
    User->>Chat: Envia mensagem/artefato
    Chat->>LG: Processo via thread
    LG->>Agents: Orquestra extraÃ§Ã£o
    
    Agents->>Agents: Extrai: DecisÃµes, Claims, Temas
    Agents->>SG: Atualiza nodes/relations (temporal)
    Agents->>LTM: Persiste memÃ³ria cross-thread
    
    SG->>Agents: Context Engineering (Select)
    LTM->>Agents: Recupera padrÃµes histÃ³ricos
    
    Agents->>LG: Gera resposta + updates
    LG->>Chat: Envia resposta
    Chat->>User: Exibe + Canvas atualizado
    
    Note over SG: Golden Rule: Sem tempo+fonte = nÃ£o confiÃ¡vel
    Note over Agents: DiÃ¡rio: Briefing<br/>Semanal: ValidaÃ§Ã£o<br/>Mensal: RevisÃ£o
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>6. Golden Rules & Mechanisms</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#dc2626'}}}%%
mindmap
  root((EKS<br/>Framework))
    Golden Rules
      GR-001: Temporalidade + ProveniÃªncia
        valid_from / valid_to
        asserted_at
        source / evidence
        confidence / status
      Resumos = Diretrizes
        Macro ativaÃ§Ã£o do todo
        Simetria entre perspectivas
      Poucas Perguntas
        OrÃ§amento: 1 pergunta/rodada
        Surpresa inicial
    Mechanisms
      Context Engineering
        Write: Persistir
        Compress: Sumarizar
        Isolate: Dividir agents
        Select: Escolher tool
      Memory Layers
        Short-term: Thread checkpoints
        Long-term: Cross-thread MongoDB
        Semantic: Neo4j graph
        Vector: Atlas Search
    Agents Patterns
      Human-in-Loop
        Interrupts estruturados
        Canvas UI specializada
      Multi-Agent
        Hierarchical: Operationalâ†’Strategic
        Cross-Pollination: Debates
        Convergence: SÃ­ntese
    Deliverables
      Daily: Exec Brief
      Weekly: Management Pack
      Monthly: Board Intelligence
      Real-time: Alertas P1/P2/P3
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>7. Tech Stack</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#059669'}}}%%
graph LR
    subgraph Frontend["ğŸ¨ FRONTEND"]
        React["React/Next.js"]
        TW["Tailwind CSS"]
        ShadCN["shadcn/ui"]
        Lucide["Lucide Icons"]
    end
    
    subgraph Backend["âš™ï¸ BACKEND"]
        FastAPI["FastAPI (Python)"]
        LangGraph2["LangGraph"]
        LangChain["LangChain"]
    end
    
    subgraph Storage["ğŸ’¾ STORAGE"]
        Neo4j2["Neo4j<br/>(Semantic Graph)"]
        MongoDB2["MongoDB<br/>(Long-term Memory)"]
        Redis["Redis<br/>(Checkpoints)"]
    end
    
    subgraph AI["ğŸ¤– AI/ML"]
        OpenAI["OpenAI GPT-4o"]
        Claude["Anthropic Claude"]
        Embed["text-embedding-3"]
    end
    
    React --> FastAPI
    TW --> React
    ShadCN --> React
    
    FastAPI --> LangGraph2
    LangGraph2 --> LangChain
    
    LangChain --> Neo4j2
    LangChain --> MongoDB2
    LangGraph2 --> Redis
    
    LangChain --> OpenAI
    LangChain --> Claude
    LangChain --> Embed
    
    style Frontend fill:#059669,color:#fff
    style Backend fill:#7c3aed,color:#fff
    style Storage fill:#f59e0b,color:#fff
    style AI fill:#ec4899,color:#fff
        </pre>
    </div>

    <hr>

    <div class="section">
        <h2>8. Deployment & DevOps</h2>
        <pre class="mermaid">
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#2563eb'}}}%%
graph TB
    subgraph Dev["ğŸ’» DEVELOPMENT"]
        Local["Local Dev<br/>Docker Compose"]
        Tests["Tests<br/>Pytest + Playwright"]
    end
    
    subgraph CI["ğŸ”„ CI/CD"]
        GHA["GitHub Actions"]
        Lint["Linting + Type Check"]
        Build["Build + Test"]
    end
    
    subgraph Staging["ğŸ§ª STAGING"]
        Vercel["Vercel<br/>(Frontend)"]
        Railway["Railway<br/>(Backend)"]
        AtlasStg["MongoDB Atlas"]
        Neo4jStg["Neo4j Aura"]
    end
    
    subgraph Production["ğŸš€ PRODUCTION"]
        VercelProd["Vercel<br/>(Frontend)"]
        RailwayProd["Railway/AWS<br/>(Backend)"]
        AtlasProd["MongoDB Atlas"]
        Neo4jProd["Neo4j Aura"]
    end
    
    Local --> Tests
    Tests --> GHA
    GHA --> Lint
    Lint --> Build
    
    Build --> Vercel
    Build --> Railway
    Vercel --> AtlasStg
    Railway --> Neo4jStg
    
    Vercel -.Promote.-> VercelProd
    Railway -.Promote.-> RailwayProd
    AtlasStg -.Backup/Restore.-> AtlasProd
    Neo4jStg -.Backup/Restore.-> Neo4jProd
    
    style Dev fill:#2563eb,color:#fff
    style CI fill:#059669,color:#fff
    style Staging fill:#f59e0b,color:#fff
    style Production fill:#dc2626,color:#fff
        </pre>
    </div>
    </div>

    <div class="footer">
        <p>Enterprise Knowledge System | <a href="https://www.cocreateai.com.br/" target="_blank">CoCreateAI</a></p>
        <p style="margin-top: 10px; font-size: 0.9rem;">A verdadeira vantagem competitiva na era da IA nÃ£o Ã© o modelo que vocÃª usa, mas o contexto que o alimenta.</p>
    </div>
</body>
</html>
